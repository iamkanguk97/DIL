# 챕터02: 객체지향 프로그래밍

## 영화 예매 시스템

- `영화`: 영화에 대한 기본 정보
- `상영`: 실제로 관객들이 영화를 관람하는 사건

**고객이 실제로 예매하는 대상은 상영**이다. 관람객이 영화를 예매하는 것은 실제로 특정 시간에 상영되는 영화를 관람할 수 있는 권리를 구매하기 위해 돈을 구매하는 것입니다.

- 할인 조건과 할인 정책
- 할인 조건은 가격의 할인 여부를 결정, 순서 조건 + 기간 조건
- 할인 정책은 할인 요금을 결정, 금액할인정책 + 비율할인정책

![](./images/image1.png)

위의 사진을 보면, 영화별로 하나의 할인 정책만 할당할 수 있고, 할인조건은 여러개를 할당할 수 있고 순서조건과 기간조건을 섞는 것도 가능합니다.

관객이 할인조건 중 하나를 만족하는지 확인하고 만족하는 경우 할인정책을 이용해서 계산합니다.

## 객체지향 프로그래밍을 향해

### 협력, 객체, 클래스

객체지향은 객체를 지향하는 것입니다. 대부분의 사람들은 클래스를 떠올릴 것이고, 클래스를 결정한 후에 클래스에 어떤 속성과 메서드가 필요한지 고민합니다. 하지만 이는 객체지향과 거리가 멉니다.

> [!IMPORTANT]
>
> - 어떤 클래스가 필요한지를 고민하기 전에 어떤 객체들이 필요한지 고민하자.
> - 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 보자.

### 도메인의 구조를 따르는 프로그램 구조

> [!IMPORTANT]
>
> - 소프트웨어는 사용자가 원하는 어떤 문제를 해결하기 위해 만들어집니다.
> - 영화 예매 시스템의 목적은 영화를 좀 더 쉽고 빠르게 예매하려는 사용자의 문제를 해결하는 것
> - 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 `도메인` 이라고 합니다.

**객체지향 패러다임이 강력한 이유는 요구사항을 분석하는 초기 단계부터 프로그램을 구현하는 마지막 단계까지 객체라는 동일한 추상화 기법을 사용할 수 있기 때문입니다.**

![](./images/image2.png)

### 클래스 구현하기

> 클래스의 내부와 외부를 구분하는 이유는 `경계의 명확성이 객체의 자율성을 보장`하기 때문입니다.

### 자율적인 객체

- 객체가 상태와 행동을 함께 가지는 복합적인 존재입니다.
- 객체가 스스로 판단하고 행동하는 자율적인 존재라는 것입니다.
- `캡슐화`: 데이터와 기능을 객체 내부로 묶는 것
- `접근제어`: 외부에서의 접근을 통제할 수 있는 메커니즘 (public, private, protected)
   - 접근제어를 하는 이유는 객체를 자율적인 존재로 만들기 위해서!
   - **객체지향의 핵심은 스스로 상태를 관리하고 판단하고 행동하는 자율적인 객체들의 공동체를 구성하는 것이기 때문.**
- 캡슐화와 접근제어는 객체를 크게 퍼블릭 인터페이스와 구현으로 나눕니다 -> 인터페이스와 구현의 분리

**일반적으로 객체의 상태는 숨기고 행동은 외부에 공개해야 합니다.**

### 프로그래머의 자유

프로그래머의 역할은 크게 `클래스 작성자`와 `클라이언트 프로그래머`로 구분합니다.

클래스 작성자는 새로운 데이터 타입을 프로그램에 추가하고 클라이언트 프로그래머는 클래스 작성자가 추가한 데이터 타입을 사용합니다.

### 구현 은닉

클라이언트 프로그래머의 목표는 필요한 클래스들을 엮어서 애플리케이션을 빠르고 안정적으로 구축하는 것입니다.

클래스 작성자는 클라이언트 프로그래머에게 필요한 부분만 공개하고 나머지는 숨겨야 합니다. 이 때 클라이언트 프로그래머가 숨겨놓은 부분에 마음대로 접근할 수 없도록 방지하면서 클라이언트 프로그래머에 대한 영향을 걱정하지 않고도 내부 구현을 변경할 수 있는 것을 구현 은닉이라고 합니다.

클라이언트 프로그래머는 내부의 구현을 무시한 채 인터페이스만 알고 있어도 클래스를 사용할 수 있기 때문에 담아둬야 하는 지식의 양을 줄일 수 있고, 클래스 작성자는 인터페이스를 바꾸지 않는 한 외부에 미치는 영향을 걱정하지 않고도 내부 구현을 마음대로 변경할 수 있습니다.